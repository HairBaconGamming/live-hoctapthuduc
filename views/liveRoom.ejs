<!-- app/views/liveRoom.ejs -->
<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title><%= room.title %> - Live Room</title>
  <link rel="stylesheet" href="/css/liveRoom.css">
  <link rel="icon" type="image/png" href="https://cdn.glitch.global/your-favicon.png">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
  <header>
    <h1 class="live-title">
      <i class="fas fa-video"></i>
      Live Stream: <span class="stream-title"><%= room.title %></span>
    </h1>
    <p>Ng∆∞·ªùi xem: <span id="viewerCount">0</span></p>
  </header>
  <div class="main-content" id="mainContent">
    <!-- Video Area -->
    <div class="video-area">
      <div class="video-wrapper">
        <video id="liveVideo" class="video-element" autoplay playsinline controls muted></video>
        <div id="placeholder" class="video-placeholder">
          Ch·ªß ph√≤ng hi·ªán ch∆∞a chia s·∫ª m√†n h√¨nh
        </div>
      </div>
    </div>
    <!-- Chat Area -->
    <div class="chat-area" id="chatArea">
      <div class="chat-header">
        <span>Ph√≤ng Chat</span>
      </div>
      <div id="chatContent">
        <ul class="chat-messages" id="chatMessages"></ul>
        <div class="chat-input">
          <input type="text" id="messageInput" placeholder="Nh·∫≠p tin nh·∫Øn..." autocomplete="off" />
          <button id="sendBtn">G·ª≠i</button>
        </div>
      </div>
    </div>
  </div>
  <div id="roomEndedOverlay">
    <h2>üî¥ Bu·ªïi ph√°t tr·ª±c ti·∫øp ƒë√£ k·∫øt th√∫c</h2>
    <button onclick="window.location.href='https://your-app-domain/live'">
      Quay l·∫°i danh s√°ch Live
    </button>
  </div>
  <script src="/socket.io/socket.io.js"></script>
  <script src="https://unpkg.com/peerjs@1.4.7/dist/peerjs.min.js"></script>
  <!-- C√°c bi·∫øn t·ª´ EJS -->
  <script>
    const roomId = "<%= room.id %>";
    const username = "<%= user.username %>";
  </script>
  <script src="/js/liveRoom.js"></script>
</body>
</html>
